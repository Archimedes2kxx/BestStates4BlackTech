---
title: "Best States for Blacks and Hispanics in Tech"
author: "Roy L Beasley, PhD -- DLL Editor"
output: html_document
---

```{r, echo=FALSE}
    setwd("/Users/roylbeasley/Google Drive/Diversity/Census-Bureau/BestStates4BlackTech")
### Group the saves and loads of related objects ==> only three or four saves and loads

    load("dfEmploymentAndShares.rda")
    load("dfCensus2.rda") 
    #load("dfTable1.RData")
    #load("dfTable1A.RData")
    #load("dfTable1B.RData") 
    #load("dfTable2A.RData")
    #load("dfTable2B.RData") 
    #load("dfTable3.RData") 
    #load("dfTable4A.RData") 
    #load("dfTable4B.RData")  
    #load("dfTable4C.RData") 
    #load("dfTable4D.RData") 
    
    load("dfTab1A1B2A2B3.rda")
    load("dfTab4ABCD.rda")    
    load("dfMap4ABCD.rda")
    load("dfTab5.rda")
    load("ggPlot6AWBH.rda")
    
    #load("dfMap4A.RData") 
    #load("dfMap4B.RData")  
    #load("dfMap4C.RData") 
    #load("dfMap4D.RData") 
    #load("dfTable5.RData")

    #load("ggplot_asian.RData")
    #load("ggplot_white.RData")
    #load("ggplot_black.RData")
    #load("ggplot_hispanic.RData")

    ###load("dfCensus3.RData")
    ###load("dfStatesPop3.RData") 
    
    library(mapproj) ### needed by ggplot2, but not installed automaticallly
    library(ggplot2)
    library(gridExtra)
    library(maps)
```

### I. Overview 

This note provides a convenient reference for answers to some frequently asked questions about diversity in the U.S. information technology sector, i.e., "diversity in tech". To be specific, it presents the results of my examination of the employment of Blacks and Hispanics in the information technology sectors of all 50 states plus the District of Columbia in 2014. My principal findings are straight-forward:   

* First, the percentage of tech employees who were Black was higher in states that had larger Black populations and smaller in states that had smaller Black populations. The same relationship between population size and percentage of tech employment held true for Hispanics. 

* Second, if all other things were equal, one would expect that the percentage of employment in a state's tech sector that was Black would be about the same as the percentage of the state's total population that was Black. One would would expect similar parity for the percentages of Hispanics. Unfortunately, all of things were not equal, so I found that the percentage of every state's tech sector that was Black or Hispanic was substantially smaller than the percentage of the state's total population that was Black or Hispanic. By contrast I found that the percentage of every state's tech sector that was Asian was two to five times as large as the percentage of the state's total population that was Asian.

* Third, the strengths of these relationships varied widely: some states offered substantially larger employment opportunities for Blacks and Hispanics in their information technology sectors than others.

* Fourth, in 2014 there were approximately ```r prettyNum(dfEmploymentAndShares[1,2], big.mark=",", scientific=FALSE)``` employees in the entire U.S. information technology sector --  ```r prettyNum(dfEmploymentAndShares[1,4], big.mark=",", scientific=FALSE)``` were Black, and 
```r prettyNum(dfEmploymentAndShares[1,6], big.mark=",", scientific=FALSE)``` were Hispanic. There were only ```r prettyNum(dfEmploymentAndShares[6,2], big.mark=",", scientific=FALSE)``` tech employees in California (including Silicon Valley).

  
### II. Findings

#### Part A. Demographics of Race, Sex, and Location   

Question 1A -- How many Whites, Blacks, Hispanics, and Asians were living in the U.S. in 2014?   
Answer 1A -- See Table 1A (below)     
... Comments and reformatting of table

<b>Table 1A -- U.S. Census Estimates of Whites, Blacks, Hispanics, and Asians in U.S.  in 2014</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable1A, row.names=FALSE)   
```
 <br />   

Question 1B -- What percentage of the U.S. population that was White, Black, Hispanic, and Asian in 2014?    
Answer 1B -- See Table 1B (below)   
... Comments and reformatting of table

<b>Table 1B -- White, Black, Hispanic, and Asian Percentate in U.S. Population in 2014</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable1B, row.names=FALSE) 
```
<br />  

Question 2A -- How many Whites, Blacks, Hispanics, Asians, and other were working int U.S. tech in 2014?   
Answer 2A -- See Table 2A (below)   
... Comments and reformatting of table

<b>Table 2A -- U.S. Census Estimates of Whites, Blacks, Hispanics, and Asians in Information Technology  in 2014</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable2A, row.names=FALSE)  
```
 <br />  

Question 2B -- What percentage of U.S. tech was White, Black, Hispanic, Asian, and others in 2014?   
Answer 2B -- See Table 2B (below)   ... Comments and reformatting of table

<b>Table 2B -- Percentage of Whites, Blacks, Hispanics, and Asians in Information Technology in 2014</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable2B, row.names=FALSE)  
```
<br />

 Question 3A -- Which standard occupational categories have been used to define the "information technology sector" for this report?  
 * <i>Note: these categories only include professionals who are not managers</i>  
 Question 3B -- How many techs are in each sector?   
 Question 3C -- What is the male/female breakdown of employment within these categories
 
 Answers 3A, 3B, 3C -- See Table 3 (below)     
 <br />... Comments and reformatting of table </br>
 <b>Table 3 -- Employment in Information Technology, Male, and Male Percentage</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable3, row.names=FALSE)  
```
   
<br />

Question 4B -- Where did White, Black, Hispanic, and Asian techs live, i.e., in which states in 2014?      

Answer 4 -- See Table 4A (White), Table 4B, Table 4C, and Table 4D (below) ... and Map 4A (White), Map 4B (Black), Map 4C (Hispanic), and Map 4D (Asian) (subsequent)     

<br />... Comments and reformatting of table </br>
<i>Note that only the ten top states for each group are displayed in these tables. The full tables are found in the Appendix files on GitHub</i>   
<b>Table 4A -- Whites in U.S. Information Technology -- Top 5 States</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable4A[1:6,], row.names=FALSE)  
```
<br />
<br />... Comments and reformatting of table </br>
<b>Table 4B -- Blacks in U.S. Information Technology -- Top 5 states</b>... Comments and reformatting of table
```{r, echo=FALSE, cache=TRUE}
    print(dfTable4B[1:6,], row.names=FALSE)  
```
<br />
<br />... Comments and reformatting of table </br>
<b>Table 4C -- Hispanics in U.S. Information Technology -- Top 5 states</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable4C[1:6,], row.names=FALSE)  
```
<br />
<br />... Comments and reformatting of table </br>
<b>Table 4D -- Asians in U.S. Information Technology -- Top 5 states</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable4D[1:6,], row.names=FALSE)  
```
<br />
<br />... Comments 
<b>Map 4A -- Whites in U.S. Information Technology -- Lower 48 and DC</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfMap4A)  
```
<br />
<br />... Comments
<b>Map 4B -- Blacks in U.S. Information Technology -- Lower 48 and DC</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfMap4B)  
```
<br />

<br />... Comments
<b>Map 4C -- Hispanics in U.S. Information Technology -- Lower 48 and DC</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfMap4C)  
```
<br />
<br />... Comments 
<b>Map 4D -- Asians in U.S. Information Technology -- Lower 48 and DC</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfMap4D)  
```
<br />


#### Part B. Parity in Tech   
Question 5: Do the parity values noted in the last column of Tables 4A, 4B, 4C, and 4D vary from one race/ethic group to the next<br />
Answer 5: See Table 5 (below) ... Comment - Parity values are lowest for Hispanics, higher for Blacks, still higher for Whites, and highest for Asians. <br />   

<b>Table 5 -- Table of Parity Values</b>
```{r, echo=FALSE, cache=TRUE}
    print(dfTable5, row.names=FALSE)  
```
<br />

Question 6: Is there a positive relationship between the size of a race/ethnic group's population in a state to the group's share of the tech jobs in that state?<br />
Answer 6: Comment ... Yes, there is a positive relationship, but the relationship is weakest for Hispanics, stronger for Blacks, still stronger for Whites, and strongest for Asians.  <br />

<b>Plot 6 -- Plots of Tech Employment vs Race/Ethnic Group Population</b>
```{r, echo=FALSE, cache=TRUE}
    grid.arrange(ggPlot_asian, ggPlot_white, ggPlot_black, ggPlot_hispanic, ncol=2)
```
<br />

### III. Why and How
  
#### Part A. Motivation   
First, let me explain why I wrote this report and how my motivation influenced my methods. A recent barrage of annual reports from some of the nation's leading information technology companies in Silicon Valley would have readers believe that the primary reason why those companies employed so few Black and Hispanic professionals was because there were so few Black and Hispanic students in the nation's academic pipelines. When reading their reports I found myself shaking my head time and again while wondering, "What numbers did they have to back up these notions? And where did they get them from?" Whereas I would have said that the pipelines were half-full, these reports implied that the pipelines were perilously close to being empty ... but if the pipelines were close to empty, there shouldn't be very many Black or Hispanic employees in the U.S. tech sector.

One of my most important take-aways from completing the Johns Hopkins online "Data Science" certificate program a few months ago was the notion that reports should be "reproducible". Authors should not only describe their methods for collecting and analyzing data; they should provide detailed step-by-step descriptions of their methods (including copies of their code) so that interested readers could readily reproduce the results on their own computers. Of course, the best researchers have always tried to achieve this objective and have often succeeded. What was new for me was the specific tools that the statisticians who taught the Hopkins courses recommended ==> the <b>[R programming language](https://en.wikipedia.org/wiki/R_)</b> and <b>[GitHub](https://en.wikipedia.org/wiki/GitHub)</b>.   

* Data should be downloaded from original sources, then analyzed, tabulated, mapped, and graphed via programs writen in R. Findings should be summarized in text laid out in a subset of <b>[Markdown](https://en.wikipedia.org/wiki/Markdown)</b> that an R application called <b>["knitr"](http://kbroman.org/knitr_knutshell/pages/Rmarkdown.html)</b> would convert to HTML pages suitable for publication on Websites. 

* Reproducible reports should be as concise as traditional reports, but the writer's extensive collection of programs, notes about analytical strategies, data coding guides, data files, tables, maps, graphs, etc, etc, etc should be shared with the world via GitHub repositories. Of course Python, MATLAB, and other comparable languages could be used insted of R, and the supplementary files could be stored on other public repositories comparable to GitHub.     

This being my first attept to write a reproducible report, I wrote it in R and stored all of my supporting files in a GitHub repo. If readers disagree with my numbers, they won't have to wonder how I got them <i>... #OldDogStillLearningNewTricks ... :-)</i>
<br /> <br />  

#### Part B. Methods   

* I used the U.S. Census Bureau's <b>[DataFerret](http://thedataweb.rm.census.gov/index.html)</b> 
application to download a sample of data from the Bureau's American Community Survey for 2014. The sample was large enough to make reliable estimates of the the racial composition of the information technology sector in 50 states plus Washington, DC. My step-by-step procedure for selecting and downloading the ACS data and its codebook is described in <b>[Appendix #1 _ ACS Downloads](https://github.com/Archimedes2kxx/BestStatesForBlackTech/blob/19bc4ca9628ce050805510ffa1dbf3fdd2103a68/Appendix-1.Rmd)</b> in the GitHub repo.<br />

* I also downloaded data table <b>[#PEPSR6H](http://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=PEP_2015_PEPSR6H&prodType=table)</b>
from the Bureau's American Fact Finder Website. This table contains the Bureau's estimates of the overall racial composition of the populations of the 50 states plus Washington DC in 2014. 

When using the DataFerret app to select the occupational data, I defined the "information technology sector" by selecting the 13 standard occupational categories shown in Table 3 (above). Eleven categories were software, two were hardware:
   
I wrote a few R programs that produced the report's tables, maps, graphs, and stats. The DataFerret's sample (```r prettyNum(dim(dfCensus2)[1], big.mark=",", scientific=FALSE)``` observations) was large enough to imply that the employee counts and percentages calculated from the sample  provided good estimates of the actual counts and percentages of Blacks, Whites, Asians, and Hispanics in tech occupations in the 50 states and DC. (<i>Note: For a few low population states, the ACS data included some missing values which meant that the sample wasn't large to provide reliable estimates of the racial/ethnic breakdown of tech employment in those states</i>.)  

My R code can be found in the Data-1A.R, Data-1B.R, Stats-2.R, and Report-3.Rmd files in the <b>[repo](https://github.com/Archimedes2kxx/BestStatesForBlackTech)</b>, as well as copies of the codebooks and .csv files I downloaded from the Census. I composed the entire report in R-Markdown using the R-Studio IDE, converted the R-markdown to HTML via knitr, then copied and pasted the HTML onto a blank page on the DLL's <b>[Tech-Levers](http://hbcu-levers.blogspot.com/p/draft-of-best-states-for-blacks-in-tech.html)</b> blog. 

The scripts and embedded functions should be run in numerical order: Data-1A.R and Data-1B.R create the data frames required by Stats-2.R; Stats-2.R creates the tables, maps, graphs, and regression stats required by the R-markdown script in the Report-4.Rmd file that generates the report.
  
  
  

